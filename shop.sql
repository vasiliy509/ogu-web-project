-- phpMyAdmin SQL Dump
-- version 5.0.4
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1:3306
-- Время создания: Авг 08 2021 г., 19:06
-- Версия сервера: 8.0.19
-- Версия PHP: 7.1.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `shop`
--

-- --------------------------------------------------------

--
-- Структура таблицы `users`
--

CREATE TABLE `users` (
  `id` int NOT NULL,
  `last_name` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `first_name` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `patronymic` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `password` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `role` int NOT NULL DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `users`
--

INSERT INTO `users` (`id`, `last_name`, `first_name`, `patronymic`, `password`, `role`) VALUES
(2, 'Иванов', 'Иван', 'Иванович', '5a1c222f73d8a5f0dd9143adb7847e9d', 0),
(3, 'Викулов', 'Василий', 'Геннадьевич', '53268a2458d48d12e3f16e4333eb3241', 1),
(5, 'Петров', 'Петр', 'Петрович', '39632df376b485e87e1dc77e9c771939', 0),
(7, 'Иванова', 'Настя', 'Ивановна', '43f7686562f00d18beea83340f1f5e72', 0);

-- --------------------------------------------------------

--
-- Структура таблицы `корзина`
--

CREATE TABLE `корзина` (
  `id` int NOT NULL,
  `user_id` int NOT NULL,
  `id_товара` int DEFAULT NULL,
  `количество товара` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `корзина`
--

INSERT INTO `корзина` (`id`, `user_id`, `id_товара`, `количество товара`) VALUES
(15, 2, 2, 2),
(35, 5, 9, 1),
(36, 5, 3, 1),
(39, 5, 2, 2);

-- --------------------------------------------------------

--
-- Структура таблицы `производитель`
--

CREATE TABLE `производитель` (
  `id` int NOT NULL,
  `Наименование` varchar(30) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `производитель`
--

INSERT INTO `производитель` (`id`, `Наименование`) VALUES
(1, 'Metabo'),
(2, 'Интерскол'),
(3, 'Вихрь'),
(4, 'Makita'),
(5, 'Sturm'),
(6, 'Зубр'),
(7, 'Sparta'),
(8, 'Барс'),
(13, 'Festool');

-- --------------------------------------------------------

--
-- Структура таблицы `группа инструмента`
--

CREATE TABLE `группа инструмента` (
  `id` int NOT NULL,
  `title` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `группа инструмента`
--

INSERT INTO `группа инструмента` (`id`, `title`) VALUES
(9, 'Дрели'),
(10, 'Измерительный инструмент'),
(65, 'Новая категория'),
(8, 'Перфораторы'),
(7, 'Станки'),
(64, 'Строительный инструмент');

-- --------------------------------------------------------

--
-- Структура таблицы `страна производства`
--

CREATE TABLE `страна производства` (
  `id` int NOT NULL,
  `Наименование` varchar(30) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `страна производства`
--

INSERT INTO `страна производства` (`id`, `Наименование`) VALUES
(1, 'Россия'),
(2, 'Белоруссия'),
(3, 'Китай'),
(4, 'Германия'),
(5, 'Корея');

-- --------------------------------------------------------

--
-- Структура таблицы `товар`
--

CREATE TABLE `товар` (
  `id` int NOT NULL,
  `Наименование` varchar(256) NOT NULL,
  `Описание` text NOT NULL,
  `Картинка` text NOT NULL,
  `В наличии` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '0',
  `Цена` varchar(250) NOT NULL DEFAULT '0',
  `Код производителя` int NOT NULL,
  `Код страны` int NOT NULL,
  `category_id` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `товар`
--

INSERT INTO `товар` (`id`, `Наименование`, `Описание`, `Картинка`, `В наличии`, `Цена`, `Код производителя`, `Код страны`, `category_id`) VALUES
(1, 'ЗУБР зпм-40-1250', 'По-настоящему профессиональный инструмент для бурения отверстий, а также ударного долбления. Обладает инновационными техническими решениями для длительной, производительной и комфортной работы: большая сила удара, двойная антивибрационная система, небольшой вес, эффективный теплоотвод, регулировка частоты вращения и удара, отключающиеся щетки. Все, что есть для безопасности, надежности и удобства - в профессиональной линейке перфораторов ЗУБР', 'images/product/ЗУБР зпм-40-1250.jpeg', '2', '14713', 1, 3, 8),
(2, 'Makita HR 2470', 'Мощный трехрежимный перфоратор Makita HR 2470, обладая всеми достоинствами, свойственными данной марке, отличается повышенной надежностью и длительным сроком службы. Он оснащен поворотным щеточным механизмом, предусматривающим защиту щеток от сора и обеспечивающим простоту их обслуживания. Помимо этого, в перфораторе Makita HR 2470 применена усовершенствованная конструкция реверса.', 'images/product/makita.jpg', '5', '10516', 4, 5, 8),
(3, 'Вихрь ТС-200', 'Станок точильный (точило для заточки инструмента) ВИХРЬ относится к типу универсальных лёгких заточных станков с приводом от электромотора и является низковольтным оборудованием. Точильный станок предназначен для заточки ножей, стамесок и другого режущего инструмента.\r\nМашина состоит из алюминиевого корпуса, в котором расположен асинхронный электродвигатель. На валу ротора двигателя крепятся шлифовальные круги. Для безопасности на корпусе машины смонтированы защитные кожухи с искрогасителем, прозрачным экраном и рабочим упором. Всегда во время работы используйте эти приспособления.\r\nТочильный станок ВИХРЬ ТС-200 - золотая середина точильных станков этого бренда. Вес и габариты также остаются приемлемыми для небольшого рабочего стола, а мощность и размер круга чуть подросли, что позволяет быстрее справиться с теми же задачами. Оснащается регулируемой подсветкой.', 'images/product/Вихрь ТС-200.jpeg', '3', '5100', 3, 1, 7),
(4, 'Станок для заточки цепей Sturm BG60016', 'Станок для заточки цепей Sturm BG60016 оснащен электродвигателем мощностью 160 Вт, благодаря которому скорость вращения заточного диска достигает 3000 оборотов в минуту. В качестве точильного камня используется абразивный или алмазный диск размерами 100х10х3.5 мм.', 'images/product/Sturm BG60016.jpeg', '1', '4277', 5, 3, 7),
(5, 'Sparta 31311', 'При выполнении широкого спектра работ необходимо проводить измерение длины объектов. Для этой цели применяется рулетка Sparta 31311. Она весьма удобна в использовании, а ее конструкция тщательно продумана специалистами при проектировании.\r\nРулетка Sparta 31311 позволяет измерять расстояния до 3 метров. Установленная в нее линейка изготовлена из стали. Качественная и стойкая к истиранию шкала на полотне обеспечивает высокую точность. Ширина линейки – 16 мм, а за ее возврат в корпус отвечает усиленная пружина, которая не деформируется при продолжительном активном использовании рулетки.\r\nКорпус выполнен из пластика. Дополнительно на него наносится прорезиненное покрытие, которое не только поглощает удары при падении, но и улучшает фиксацию рулетки в руках.\r\nДанная модель имеет ремешок для запястья. Он необходим для предотвращения случайного падения рулетки при выскальзывании из рук. Переносить измерительный инструмент можно на ремне, для этой цели на его корпусе размещается клипса.', 'images/product/Sparta 31311.jpg', '5', '99', 7, 3, 10),
(6, 'Барс Полимер 32501', 'Автоматическая фиксация измерительного полотна. Подвижный зацеп true-zero позволяет производить измерения внутренних и внешних поверхностей без учета дополнительной погрешности. Материал корпуса АВS-пластик.', 'images/product/Барс 32501.jpg', '6', '170', 8, 3, 10),
(7, 'Линейка измерительная 150', 'Измерительная линейка изготовлена из инструментальной легированной стали. Метрическая шкала выполнена методом травления. Удобна и проста в обращении при измерительных работах.', 'images/product/Линейка измерительная 150.jpg', '20', '40', 7, 3, 10),
(9, 'Вихрь Д-550Б', 'Дрель Вихрь Д-550Б – надежный помощник во время ремонтных и строительных работ. Она относится к типу безударных, поэтому позволит получить точное сверление в пластмассовых, металлических, стальных, деревянных и во многих других изделиях. Насадки с максимальным диаметром до 10 мм и минимальным 0.8 мм легко устанавливаются, благодаря быстрозажимному патрону.\r\nВихрь Д-550Б работает с мощностью 550 Вт от электросети 220 Вт за счет сетевого кабеля длиной 2 метра. Электрическая дрель обеспечит до 3000 об/м, при этом, не потребует большой физической нагрузки во время работ с ним. Вращение сверла переключается с правой стороны на левую легкими движением руки.', 'images/product/Вихрь Д-550Б.jpg', '15', '1999', 3, 3, 9),
(16, 'Заклепочник ЗУБР &#34;М-100&#34;', 'Надежный инструмент для создания неразъемных соединений\r\nПрименение\r\nПрименяется для создания неразъемных соединений из различных материалов.\r\nПреимущества\r\nЗакаленные рабочие части увеличивают ресурс работы,\r\nСтальной корпус обеспечивает надежную работу инструмента,\r\nИспользуется для работы заклепками из алюминия', '/images/product/Заклепочник Зубр.jpeg', '1', '900', 6, 1, 64);

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `password` (`password`);

--
-- Индексы таблицы `корзина`
--
ALTER TABLE `корзина`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `id_товара` (`id_товара`);

--
-- Индексы таблицы `производитель`
--
ALTER TABLE `производитель`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `группа инструмента`
--
ALTER TABLE `группа инструмента`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `title` (`title`);

--
-- Индексы таблицы `страна производства`
--
ALTER TABLE `страна производства`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `товар`
--
ALTER TABLE `товар`
  ADD PRIMARY KEY (`id`),
  ADD KEY `Код производителя` (`Код производителя`),
  ADD KEY `Код группы инструмента` (`category_id`),
  ADD KEY `Код страны производства` (`Код страны`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `users`
--
ALTER TABLE `users`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT для таблицы `корзина`
--
ALTER TABLE `корзина`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=40;

--
-- AUTO_INCREMENT для таблицы `производитель`
--
ALTER TABLE `производитель`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=25;

--
-- AUTO_INCREMENT для таблицы `группа инструмента`
--
ALTER TABLE `группа инструмента`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=67;

--
-- AUTO_INCREMENT для таблицы `страна производства`
--
ALTER TABLE `страна производства`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT для таблицы `товар`
--
ALTER TABLE `товар`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=17;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `корзина`
--
ALTER TABLE `корзина`
  ADD CONSTRAINT `корзина_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  ADD CONSTRAINT `корзина_ibfk_2` FOREIGN KEY (`id_товара`) REFERENCES `товар` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Ограничения внешнего ключа таблицы `товар`
--
ALTER TABLE `товар`
  ADD CONSTRAINT `товар_ibfk_1` FOREIGN KEY (`Код производителя`) REFERENCES `производитель` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  ADD CONSTRAINT `товар_ibfk_2` FOREIGN KEY (`category_id`) REFERENCES `группа инструмента` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  ADD CONSTRAINT `товар_ibfk_3` FOREIGN KEY (`Код страны`) REFERENCES `страна производства` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
